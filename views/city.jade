extend layout
block content
    script.
    script(src='https://maps.googleapis.com/maps/api/js?callback=initMiniMap', async='', defer='')
    script(type='text/javascript', src='../javascripts/make_image_map_tiles.js')

    title=title
    .col-md-4
        table(style='border-collapse: collapse', border='3', cellspacing='6', cellpadding='6')
            tr
                td(align='center', colspan='4') #{City.city_name}

            tr
                td(colspan='4', align='center') City Location
            tr
                td(align='center') Latitude:
                td.lat_insert #{City.lat}
                td(align='center') Longitude:
                td.lng_insert #{City.lng}
            tr
                td(colspan='4') Population: #{City.population}
            tr
                td(colspan=2) Government Type :#{City.govtype}
                td(colspan=2) Alignment: #{City.gov_alignment}
            tr
                td(colspan='4')
                    | Government People
                    table(style='border-collapse: collapse', border='3', cellspacing='6', cellpadding='6')
                        thead
                            tr
                                th.table_head Name
                                th.table_head Level
                                tbody
                            each npc_name in City.gov_npcs
                                each npc in NPCs
                                    if npc.name==npc_name
                                        tr
                                            td.npc_name
                                                a(href='/one_npc') <strong> #{npc.name}
                                            td #{npc.level}
            tr
                td(colspan=4)
                    div#mini_map
            tr
                td(colspan='4') #{City.city_description}


    .col-md-4
        table.table.table-condensed(style='border-collapse: collapse', border='3', cellspacing='6', cellpadding='6')
            tr
                td(colspan='4', align='center') Local Shops
            tr
                td(colspan='2')
                    h4 <strong> General Stores </strong>
                    table
                        each shop in Shops
                            if shop.shop_type=='gen_store'
                                tr
                                    td.shop_name
                                        a(href='/shop') #{shop.shopName}
                td(colspan='2')
                    h4 <strong> Taverns and Speciality Shops </strong>
                        table
                            each shop in Shops
                                if shop.shop_type == 'tavern_or_other'
                                    tr
                                        td.shop_name
                                            a(href='/shop') #{shop.shopName}
            tr
                td(colspan='2')
                    h4 <strong> Magic Item Shops </strong>

                        table
                            each shop in Shops
                                if shop.shop_type == 'magic_item_shop'
                                    tr
                                        td.shop_name
                                            a(href='/shop') #{shop.shopName}
                td(colspan='2')
                    h4 <strong> Weapons and Armor </strong>

                        table
                            each shop in Shops
                                if shop.shop_type == 'wep_armor_shop'
                                    tr
                                        td.shop_name
                                            a(href='/shop') #{shop.shopName}
    .col-md-4
        table.table.table-condensed(style='border-collapse: collapse', border='3', cellspacing='6', cellpadding='6')
            tr.accordian-toggle(data-toggle='collapse', data-target='#demo1')
                td(colspan='2')
                    | The Guard
                    table
                        tr
                            td(colspan=2)
                                a(href='/one_npc') #{City.sherrif_or_captain}
                        tr
                            td(colspan=2)#guard_numbers Guards: #{City.city_guards}
                        tr
                            td(colspan=2)#militia_numbers Militia: #{City.city_militia}
                td(colspan='2')
                    | Notable Spellcasters
                    table(style='border-collapse: collapse', border='3', cellspacing='6', cellpadding='6')
                        thead
                            tr
                                th.table_head Name
                                th.table_head Level
                                th.table_head Class
                                tbody
                            each npc_name in City.casters
                                each npc in NPCs
                                    if npc.name==npc_name
                                        tr
                                            td.npc_name
                                                a(href='/one_npc') <strong> #{npc.name}
                                            td #{npc.level}
                                            td #{npc.class}
            tr
                td(colspan='2')
                    | Imports
                    ul
                        li 1
                        li 2
                td(colspan='2')
                    | Exports
                    ul
                        li 1
                        li 2

